FROM awsteiner/o2scl:v0.929a1_u23.04_py
MAINTAINER Andrew W. Steiner (awsteiner0@protonmail.com)

# --------------------------------------------------------------------------
# Additional packages

RUN apt install libopenmpi-dev

# --------------------------------------------------------------------------
# UTK EOS

# Set makefile variables
ENV CXX g++
ENV MPI_CXX g++
ENV CFLAGS -I/usr/lib/x86_64-linux-gnu/openmpi/include/

WORKDIR /opt
RUN git clone https://github.com/awsteiner/eos
WORKDIR /opt/eos
RUN make eos_nuclei eos eos_nompi eos_nuclei_nompi

# --------------------------------------------------------------------------
# Try to load an EOS and look up a point

RUN curl https://isospin.roam.utk.edu/public_data/eos_tables/du21/fid_3_5_22.o2
RUN ./eos_nuclei -load fid_3_5_22.o2 -point-nuclei 0.16 0.4 1.0 









